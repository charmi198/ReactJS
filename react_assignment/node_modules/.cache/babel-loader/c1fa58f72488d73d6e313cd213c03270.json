{"ast":null,"code":"var _jsxFileName = \"/home/mtech/Documents/react_assignment/src/components/UI/Search.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./Search.module.css\";\nimport { Fragment, useEffect, useRef, useState } from \"react\";\nimport User from \"../Users/User\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const selectvalue = useRef();\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState();\n  let locvalue;\n\n  const changeHandler = event => {\n    console.log(selectvalue.current.value);\n    locvalue = selectvalue.current.value;\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const response = await fetch(`https://api.github.com/search/users?q=followers:%3E1000+location:${locvalue}&sort=followers&order=desc&per_page=10`);\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      const loadedUsers = [];\n\n      for (let key in data[\"items\"]) {\n        const userRes = await fetch(data[\"items\"][key].url);\n\n        if (!userRes.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const userdata = await userRes.json(); //console.log(userdata);\n\n        loadedUsers.push({\n          profilepic: userdata.avatar_url,\n          username: userdata.login,\n          name: userdata.name,\n          bio: userdata.bio,\n          location: userdata.location,\n          mail: userdata.email,\n          url: userdata.html_url\n        });\n      }\n\n      setUsers(loadedUsers);\n      console.log(loadedUsers);\n      setIsLoading(false);\n    };\n\n    fetchUsers().catch(error => {\n      setIsLoading(false);\n      setError(error.message);\n    });\n  }, [changeHandler, locvalue]);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.UsersLoading,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.UsersError,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n  const usersList = users.map(user => /*#__PURE__*/_jsxDEV(User, {\n    profilepic: user.profilepic,\n    username: user.username,\n    name: user.name,\n    bio: user.bio,\n    location: user.location,\n    mail: user.mail,\n    url: user.url\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this));\n\n  const returnform = /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: classes.input,\n          id: \"user\",\n          type: \"text\",\n          placeholder: \"Search for a user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: classes.select,\n          id: \"city\",\n          ref: selectvalue,\n          onChange: changeHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ahmedabad\",\n            children: \"Ahmedabad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"banglore\",\n            children: \"Banglore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pune\",\n            children: \"Pune\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"mumbai\",\n            children: \"Mumbai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"hydrabad\",\n            children: \"Hydrabad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"losangeles\",\n            children: \"Los Angeles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"chicago\",\n            children: \"Chicago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newyork\",\n            children: \"New York\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"sanjose\",\n            children: \"San Jose\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"washington\",\n            children: \"Washington\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: returnform\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: usersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"zKxTAkgWWSbLl2V+Ik/MjizX54c=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/home/mtech/Documents/react_assignment/src/components/UI/Search.js"],"names":["classes","Fragment","useEffect","useRef","useState","User","Search","selectvalue","users","setUsers","isLoading","setIsLoading","error","setError","locvalue","changeHandler","event","console","log","current","value","fetchUsers","response","fetch","ok","Error","data","json","loadedUsers","key","userRes","url","userdata","push","profilepic","avatar_url","username","login","name","bio","location","mail","email","html_url","catch","message","UsersLoading","UsersError","usersList","map","user","returnform","form","input","select"],"mappings":"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","sourcesContent":["import classes from \"./Search.module.css\";\nimport { Fragment, useEffect, useRef, useState } from \"react\";\nimport User from \"../Users/User\";\n\nconst Search = () => {\n  const selectvalue = useRef();\n\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState();\n\n  let locvalue;\n\n  const changeHandler = (event) => {\n    console.log(selectvalue.current.value);\n    locvalue = selectvalue.current.value;\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const response = await fetch(\n        `https://api.github.com/search/users?q=followers:%3E1000+location:${locvalue}&sort=followers&order=desc&per_page=10`\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n\n      const loadedUsers = [];\n\n      for (let key in data[\"items\"]) {\n        const userRes = await fetch(data[\"items\"][key].url);\n        if (!userRes.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const userdata = await userRes.json();\n        //console.log(userdata);\n\n        loadedUsers.push({\n          profilepic: userdata.avatar_url,\n          username: userdata.login,\n          name: userdata.name,\n          bio: userdata.bio,\n          location: userdata.location,\n          mail: userdata.email,\n          url: userdata.html_url,\n        });\n      }\n\n      setUsers(loadedUsers);\n      console.log(loadedUsers);\n      setIsLoading(false);\n    };\n    fetchUsers().catch((error) => {\n      setIsLoading(false);\n      setError(error.message);\n    });\n  }, [changeHandler, locvalue]);\n\n  if (isLoading) {\n    return (\n      <section className={classes.UsersLoading}>\n        <p>Loading...</p>\n      </section>\n    );\n  }\n\n  if (error) {\n    return (\n      <section className={classes.UsersError}>\n        <p>{error}</p>\n      </section>\n    );\n  }\n\n  const usersList = users.map((user) => (\n    <User\n      profilepic={user.profilepic}\n      username={user.username}\n      name={user.name}\n      bio={user.bio}\n      location={user.location}\n      mail={user.mail}\n      url={user.url}\n    />\n  ));\n\n  const returnform = (\n    <Fragment>\n      <div>\n        <form className={classes.form}>\n          <input\n            className={classes.input}\n            id=\"user\"\n            type=\"text\"\n            placeholder=\"Search for a user\"\n          />\n\n          <select\n            className={classes.select}\n            id=\"city\"\n            ref={selectvalue}\n            onChange={changeHandler}\n          >\n            <option value=\"ahmedabad\">Ahmedabad</option>\n            <option value=\"banglore\">Banglore</option>\n            <option value=\"pune\">Pune</option>\n            <option value=\"mumbai\">Mumbai</option>\n            <option value=\"hydrabad\">Hydrabad</option>\n            <option value=\"losangeles\">Los Angeles</option>\n            <option value=\"chicago\">Chicago</option>\n            <option value=\"newyork\">New York</option>\n            <option value=\"sanjose\">San Jose</option>\n            <option value=\"washington\">Washington</option>\n          </select>\n        </form>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <div>\n      <div>{returnform}</div>\n      <ul>{usersList}</ul>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}