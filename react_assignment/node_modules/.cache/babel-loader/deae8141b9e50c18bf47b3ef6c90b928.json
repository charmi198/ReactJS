{"ast":null,"code":"var _jsxFileName = \"/home/mtech/Documents/react_assignment/src/components/UI/Search.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./Search.module.css\";\nimport { Fragment, useEffect, useRef, useState } from \"react\";\nimport User from \"../Users/User\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport ErrorModal from \"./ErrorModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const selectvalue = useRef();\n  const [selectedValue, setSelectedValue] = useState(\"ahmedabad\");\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState();\n  const [enteredFilter, setEnteredFilter] = useState(\"\");\n  const inputRef = useRef();\n\n  const selectChangeHandler = event => {\n    // console.log(selectvalue.current.value);\n    // locvalue = selectvalue.current.value;\n    setSelectedValue(event.target.value);\n    console.log(event.target.value);\n  };\n\n  const locvalue = selectedValue; // const inputChangeHandler = (event) => {\n  //   console.log(inputRef.current.value);\n  // };\n  // useEffect(() => {\n  //   const timer = setTimeout(() => {\n  //     if (enteredFilter === inputRef.current.value) {\n  //       //console.log(inputRef.current.value);\n  //     }\n  //   }, 500);\n  // }, [enteredFilter, inputRef]);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    const fetchUsers = async () => {\n      const response = await fetch(`https://api.github.com/search/users?q=followers:%3E1+location:'${locvalue}'&sort=followers&order=desc&per_page=10`);\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      const loadedUsers = [];\n\n      for (let key in data[\"items\"]) {\n        const userRes = await fetch(data[\"items\"][key].url);\n\n        if (!userRes.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const userdata = await userRes.json(); //console.log(userdata);\n\n        loadedUsers.push({\n          profilepic: userdata.avatar_url,\n          username: userdata.login,\n          name: userdata.name,\n          bio: userdata.bio,\n          location: userdata.location,\n          mail: userdata.email,\n          url: userdata.html_url\n        });\n      }\n\n      setUsers(loadedUsers);\n      console.log(loadedUsers);\n      setIsLoading(false);\n    };\n\n    fetchUsers().catch(error => {\n      setIsLoading(false);\n      setError(error.message);\n    });\n  }, [locvalue]);\n\n  const errorHandler = () => {\n    setError(null);\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorModal, {\n      title: \"Something went wrong!\",\n      message: \"Try Again later!\",\n      onConfirm: errorHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n\n  const usersList = users.map(user => /*#__PURE__*/_jsxDEV(User, {\n    profilepic: user.profilepic,\n    username: user.username,\n    name: user.name,\n    bio: user.bio,\n    location: user.location,\n    mail: user.mail,\n    url: user.url\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this));\n\n  const returnform = /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: classes.input,\n          id: \"user\",\n          type: \"text\",\n          placeholder: \"Search for a user...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: classes.select,\n          id: \"city\",\n          value: selectedValue,\n          onChange: selectChangeHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ahmedabad\",\n            children: \"Ahmedabad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"banglore\",\n            children: \"Banglore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pune\",\n            children: \"Pune\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"mumbai\",\n            children: \"Mumbai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"hydrabad\",\n            children: \"Hydrabad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"losangeles\",\n            children: \"Los Angeles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"chicago\",\n            children: \"Chicago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newyork\",\n            children: \"New York\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"sanjose\",\n            children: \"San Jose\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"washington\",\n            children: \"Washington\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: returnform\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: usersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"IgsyaRjnHu6hHVUJpOInTkPp/uI=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/home/mtech/Documents/react_assignment/src/components/UI/Search.js"],"names":["classes","Fragment","useEffect","useRef","useState","User","LoadingSpinner","ErrorModal","Search","selectvalue","selectedValue","setSelectedValue","users","setUsers","isLoading","setIsLoading","error","setError","enteredFilter","setEnteredFilter","inputRef","selectChangeHandler","event","target","value","console","log","locvalue","fetchUsers","response","fetch","ok","Error","data","json","loadedUsers","key","userRes","url","userdata","push","profilepic","avatar_url","username","login","name","bio","location","mail","email","html_url","catch","message","errorHandler","usersList","map","user","returnform","form","input","select"],"mappings":"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","sourcesContent":["import classes from \"./Search.module.css\";\nimport { Fragment, useEffect, useRef, useState } from \"react\";\nimport User from \"../Users/User\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport ErrorModal from \"./ErrorModal\";\n\nconst Search = () => {\n  const selectvalue = useRef();\n\n  const [selectedValue, setSelectedValue] = useState(\"ahmedabad\");\n\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState();\n  const [enteredFilter, setEnteredFilter] = useState(\"\");\n\n  const inputRef = useRef();\n\n  const selectChangeHandler = (event) => {\n    // console.log(selectvalue.current.value);\n    // locvalue = selectvalue.current.value;\n    setSelectedValue(event.target.value);\n    console.log(event.target.value);\n  };\n  const locvalue = selectedValue;\n\n  // const inputChangeHandler = (event) => {\n  //   console.log(inputRef.current.value);\n  // };\n\n  // useEffect(() => {\n  //   const timer = setTimeout(() => {\n  //     if (enteredFilter === inputRef.current.value) {\n  //       //console.log(inputRef.current.value);\n  //     }\n  //   }, 500);\n  // }, [enteredFilter, inputRef]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchUsers = async () => {\n      const response = await fetch(\n        `https://api.github.com/search/users?q=followers:%3E1+location:'${locvalue}'&sort=followers&order=desc&per_page=10`\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n\n      const loadedUsers = [];\n\n      for (let key in data[\"items\"]) {\n        const userRes = await fetch(data[\"items\"][key].url);\n        if (!userRes.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const userdata = await userRes.json();\n        //console.log(userdata);\n\n        loadedUsers.push({\n          profilepic: userdata.avatar_url,\n          username: userdata.login,\n          name: userdata.name,\n          bio: userdata.bio,\n          location: userdata.location,\n          mail: userdata.email,\n          url: userdata.html_url,\n        });\n      }\n\n      setUsers(loadedUsers);\n      console.log(loadedUsers);\n      setIsLoading(false);\n    };\n    fetchUsers().catch((error) => {\n      setIsLoading(false);\n      setError(error.message);\n    });\n  }, [locvalue]);\n\n  const errorHandler = () => {\n    setError(null);\n  };\n\n  if (isLoading) {\n    return <LoadingSpinner />;\n  }\n\n  if (error) {\n    return (\n      <ErrorModal\n        title=\"Something went wrong!\"\n        message=\"Try Again later!\"\n        onConfirm={errorHandler}\n      />\n    );\n  }\n\n  const usersList = users.map((user) => (\n    <User\n      profilepic={user.profilepic}\n      username={user.username}\n      name={user.name}\n      bio={user.bio}\n      location={user.location}\n      mail={user.mail}\n      url={user.url}\n    />\n  ));\n\n  const returnform = (\n    <Fragment>\n      <div>\n        <form className={classes.form}>\n          <input\n            className={classes.input}\n            id=\"user\"\n            type=\"text\"\n            placeholder=\"Search for a user...\"\n          />\n\n          <select\n            className={classes.select}\n            id=\"city\"\n            value={selectedValue}\n            onChange={selectChangeHandler}\n          >\n            <option value=\"ahmedabad\">Ahmedabad</option>\n            <option value=\"banglore\">Banglore</option>\n            <option value=\"pune\">Pune</option>\n            <option value=\"mumbai\">Mumbai</option>\n            <option value=\"hydrabad\">Hydrabad</option>\n            <option value=\"losangeles\">Los Angeles</option>\n            <option value=\"chicago\">Chicago</option>\n            <option value=\"newyork\">New York</option>\n            <option value=\"sanjose\">San Jose</option>\n            <option value=\"washington\">Washington</option>\n          </select>\n        </form>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <div>\n      <div>{returnform}</div>\n      <ul>{usersList}</ul>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}